# Render passes

**Framework**: Metal

Encode a render pass to draw graphics into an image.

#### Overview

A render pass processes and rasterizes geometry to one or more output attachments using a render pipeline.

Render passes consist of:

- A set of input resources, such as buffers and textures
- A render pipeline that configures the GPU that does work with the input resources
- Draw commands
- Vertex shaders, the GPU core functions that process and transform a scene’s geometry
- An optional tessellation stage that adds fine details to a scene’s geometry
- Fragment shaders, the GPU core functions that produce the final color values for each pixel
- Optional outputs that can include color, depth, and stencil attachments, and their load and store operations

See the [`Customizing render pass setup`](customizing-render-pass-setup.md) sample for implementation details.

## Topics

### Encoding a render pass
- [protocol MTL4RenderCommandEncoder](mtl4rendercommandencoder.md)
  Encodes configuration and draw commands for a single render pass into a command buffer.
- [protocol MTLRenderCommandEncoder](mtlrendercommandencoder.md)
  Encodes configuration and draw commands for a single render pass into a command buffer.
- [struct MTL4RenderEncoderOptions](mtl4renderencoderoptions.md)
  Custom render pass options you specify at encoder creation time.
- [enum MTLTriangleFillMode](mtltrianglefillmode.md)
  Specifies how to rasterize triangle and triangle strip primitives.
- [enum MTLWinding](mtlwinding.md)
  The vertex winding rule that determines a front-facing primitive.
- [enum MTLCullMode](mtlcullmode.md)
  The mode that determines whether to perform culling and which type of primitive to cull.
- [enum MTLPrimitiveType](mtlprimitivetype.md)
  The geometric primitive type for drawing commands.
- [enum MTLIndexType](mtlindextype.md)
  The index type for an index buffer that references vertices of geometric primitives.
- [enum MTLDepthClipMode](mtldepthclipmode.md)
  The mode that determines how to deal with fragments outside of the near or far planes.
- [enum MTLVisibilityResultMode](mtlvisibilityresultmode.md)
  The mode that determines what, if anything, the GPU writes to the results buffer, after the GPU executes the render pass.
- [enum MTLVisibilityResultType](mtlvisibilityresulttype.md)
  This enumeration controls if Metal accumulates visibility results between render encoders or resets them.
### Encoding a render pass in parallel
- [protocol MTLParallelRenderCommandEncoder](mtlparallelrendercommandencoder.md)
  An instance that splits up a single render pass so that it can be simultaneously encoded from multiple threads.
- [enum MTLLoadAction](mtlloadaction.md)
  Types of actions performed for an attachment at the start of a rendering pass.
- [enum MTLStoreAction](mtlstoreaction.md)
  Types of actions performed for an attachment at the end of a rendering pass.
- [struct MTLStoreActionOptions](mtlstoreactionoptions.md)
  Options that modify a store action.
### Configuring a render command encoder
- [class MTL4RenderPassDescriptor](mtl4renderpassdescriptor.md)
  Describes a render pass.
- [class MTLRenderPassDescriptor](mtlrenderpassdescriptor.md)
  A group of render targets that hold the results of a render pass.
- [class MTLRenderPassAttachmentDescriptor](mtlrenderpassattachmentdescriptor.md)
  A render target that serves as the output destination for pixels generated by a render pass.
- [class MTLRenderPassColorAttachmentDescriptorArray](mtlrenderpasscolorattachmentdescriptorarray.md)
  An array of render pass color attachment descriptor objects.
- [class MTLRenderPassColorAttachmentDescriptor](mtlrenderpasscolorattachmentdescriptor.md)
  A color render target that serves as the output destination for color pixels generated by a render pass.
- [struct MTLClearColor](mtlclearcolor.md)
  An RGBA value used for a color pixel.
- [class MTLRenderPassDepthAttachmentDescriptor](mtlrenderpassdepthattachmentdescriptor.md)
  A depth render target that serves as the output destination for depth pixels generated by a render pass.
- [enum MTLMultisampleDepthResolveFilter](mtlmultisampledepthresolvefilter.md)
  Filtering options for controlling an MSAA depth resolve operation.
- [class MTL4RenderPipelineColorAttachmentDescriptorArray](mtl4renderpipelinecolorattachmentdescriptorarray.md)
  An array of color attachment descriptions for a render pipeline.
- [class MTLTileRenderPipelineColorAttachmentDescriptorArray](mtltilerenderpipelinecolorattachmentdescriptorarray.md)
  An array of color attachment descriptors for the tile render pipeline.
- [class MTLRenderPassStencilAttachmentDescriptor](mtlrenderpassstencilattachmentdescriptor.md)
  A stencil render target that serves as the output destination for stencil pixels generated by a render pass.
- [enum MTLMultisampleStencilResolveFilter](mtlmultisamplestencilresolvefilter.md)
  Constants used to control the multisample stencil resolve operation.
- [class MTLRenderPassSampleBufferAttachmentDescriptorArray](mtlrenderpasssamplebufferattachmentdescriptorarray.md)
  An array of sample buffer attachments for a render pass.
- [class MTLRenderPassSampleBufferAttachmentDescriptor](mtlrenderpasssamplebufferattachmentdescriptor.md)
  A description of where to store GPU counter information at the start and end of a render pass.
- [class MTLLogicalToPhysicalColorAttachmentMap](mtllogicaltophysicalcolorattachmentmap.md)
  Allows you to easily specify color attachment remapping from logical to physical indices.
- [struct MTLDispatchThreadsIndirectArguments](mtldispatchthreadsindirectarguments.md)
### Render pipeline states
- [protocol MTLRenderPipelineState](mtlrenderpipelinestate.md)
  An interface that represents a graphics pipeline configuration for a render pass, which the pass applies to the draw commands you encode.
- [class MTL4RenderPipelineDescriptor](mtl4renderpipelinedescriptor.md)
  Groups together properties to create a render pipeline state object.
- [class MTLRenderPipelineDescriptor](mtlrenderpipelinedescriptor.md)
  An argument of options you pass to a GPU device to get a render pipeline state.
- [class MTLRenderPipelineFunctionsDescriptor](mtlrenderpipelinefunctionsdescriptor.md)
  A collection of functions for updating a render pipeline.
- [class MTL4MeshRenderPipelineDescriptor](mtl4meshrenderpipelinedescriptor.md)
  Groups together properties you use to create a mesh render pipeline state object.
- [class MTLMeshRenderPipelineDescriptor](mtlmeshrenderpipelinedescriptor.md)
  An object that configures new render pipeline state objects for mesh shading.
- [class MTLPipelineBufferDescriptor](mtlpipelinebufferdescriptor.md)
  The mutability options for a buffer that a render or compute pipeline uses.
- [class MTLPipelineBufferDescriptorArray](mtlpipelinebufferdescriptorarray.md)
  An array of pipeline buffer descriptors.
- [class MTL4RenderPipelineColorAttachmentDescriptor](mtl4renderpipelinecolorattachmentdescriptor.md)
- [class MTLRenderPipelineColorAttachmentDescriptor](mtlrenderpipelinecolorattachmentdescriptor.md)
  A color render target that specifies the color configuration and color operations for a render pipeline.
- [class MTLRenderPipelineColorAttachmentDescriptorArray](mtlrenderpipelinecolorattachmentdescriptorarray.md)
  An array of render pipeline color attachment descriptor objects.
- [class MTL4TileRenderPipelineDescriptor](mtl4tilerenderpipelinedescriptor.md)
  Groups together properties you use to create a tile render pipeline state object.
- [class MTLTileRenderPipelineDescriptor](mtltilerenderpipelinedescriptor.md)
  An object that configures new render pipeline state objects for tile shading.
- [class MTLTileRenderPipelineColorAttachmentDescriptor](mtltilerenderpipelinecolorattachmentdescriptor.md)
  A description of a tile-shading render pipeline’s color render target.
- [struct MTLPipelineOption](mtlpipelineoption.md)
  Options that determine how Metal prepares the pipeline.
- [class MTL4RenderPipelineBinaryFunctionsDescriptor](mtl4renderpipelinebinaryfunctionsdescriptor.md)
  Allows you to specify additional binary functions to link to each stage of a render pipeline.
- [class MTL4RenderPipelineDynamicLinkingDescriptor](mtl4renderpipelinedynamiclinkingdescriptor.md)
  Groups together properties that provide linking properties for render pipelines.
### Dynamic render pipeline states
- [struct MTLViewport](mtlviewport.md)
  A 3D rectangular region for the viewport clipping.
- [struct MTLScissorRect](mtlscissorrect.md)
  A rectangle for the scissor fragment test.
- [struct MTLVertexAmplificationViewMapping](mtlvertexamplificationviewmapping.md)
  An offset applied to a render target index and viewport index.
- [struct MTLQuadTessellationFactorsHalf](mtlquadtessellationfactorshalf.md)
  The per-patch tessellation factors for a quad patch.
- [struct MTLTriangleTessellationFactorsHalf](mtltriangletessellationfactorshalf.md)
  The per-patch tessellation factors for a triangle patch.
### Render pass inputs
- [class MTLVertexDescriptor](mtlvertexdescriptor.md)
  An instance that describes how to organize and map data to a vertex function.
- [class MTLVertexAttributeDescriptor](mtlvertexattributedescriptor.md)
  An object that determines how to store attribute data in memory and map it to the arguments of a vertex function.
- [class MTLVertexAttributeDescriptorArray](mtlvertexattributedescriptorarray.md)
  An array of vertex attribute descriptor instances.
- [class MTLVertexBufferLayoutDescriptor](mtlvertexbufferlayoutdescriptor.md)
  An object that configures how a render pipeline fetches data to send to the vertex function.
- [class MTLVertexBufferLayoutDescriptorArray](mtlvertexbufferlayoutdescriptorarray.md)
  An array of vertex buffer layout descriptor instances.
- [let MTLBufferLayoutStrideDynamic: Int](mtlbufferlayoutstridedynamic.md)
### Render pass outputs
- [protocol MTLDrawable](mtldrawable.md)
  A displayable resource that can be rendered or written to.
- [typealias MTLDrawablePresentedHandler](mtldrawablepresentedhandler.md)
  A block of code invoked after a drawable is presented.
### Depth testing
- [Calculating primitive visibility using depth testing](calculating-primitive-visibility-using-depth-testing.md)
  Determine which pixels are visible in a scene by using a depth texture.
- [protocol MTLDepthStencilState](mtldepthstencilstate.md)
  A depth and stencil state instance that specifies the depth and stencil configuration and operations used in a render pass.
- [class MTLDepthStencilDescriptor](mtldepthstencildescriptor.md)
  An instance that configures new [`MTLDepthStencilState`](mtldepthstencilstate.md) instances.
- [class MTLStencilDescriptor](mtlstencildescriptor.md)
  An object that defines the front-facing or back-facing stencil operations of a depth and stencil state object.
### Rasterization settings
- [Rendering at different rasterization rates](rendering-at-different-rasterization-rates.md)
  Configure a rasterization rate map to vary rasterization rates depending on the amount of detail needed.
- [Creating a rasterization rate map](creating-a-rasterization-rate-map.md)
  Define the rasterization rates for each part of your render target.
- [Rendering with a rasterization rate map](rendering-with-a-rasterization-rate-map.md)
  Create offscreen textures to hold intermediate rasterized data.
- [Scaling variable rasterization rate content](scaling-variable-rasterization-rate-content.md)
  Use the rate map data to scale the content to fill your destination texture.
- [class MTLRasterizationRateMapDescriptor](mtlrasterizationratemapdescriptor.md)
  An object that you use to configure new rasterization rate maps.
- [protocol MTLRasterizationRateMap](mtlrasterizationratemap.md)
  A compiled read-only instance that determines how to apply variable rasterization rates when rendering.
- [typealias MTLCoordinate2D](mtlcoordinate2d.md)
  A coordinate in the viewport.
- [func MTLCoordinate2DMake(Float, Float) -> MTLCoordinate2D](mtlcoordinate2dmake(_:_:).md)
  Returns a new 2D point with the specified coordinates.
### Optimizing techniques
- [Specifying drawing and dispatch arguments indirectly](specifying-drawing-and-dispatch-arguments-indirectly.md)
  Use indirect commands if you don’t know your draw or dispatch call arguments when you encode the command.
- [Rendering to multiple viewports in a draw command](rendering-to-multiple-viewports-in-a-draw-command.md)
  Select viewports and their corresponding scissor rectangles in your vertex shader.
- [Rendering to multiple texture slices in a draw command](rendering-to-multiple-texture-slices-in-a-draw-command.md)
  Select a destination texture slice in your vertex shader.
### Advanced multisampling
- [Positioning samples programmatically](positioning-samples-programmatically.md)
  Configure the position of samples when rendering to a multisampled render target.
- [Storing data a pass makes with custom sample positions for a subsequent pass](storing-data-a-pass-makes-with-custom-sample-positions-for-a-subsequent-pass.md)
  Inform Metal when your app uses programmable sample positions for its depth render targets or copies MSAA depth data.
### Applying rendering techniques
- [Drawing a triangle with Metal 4](drawing-a-triangle-with-metal-4.md)
  Render a colorful, rotating 2D triangle by running draw commands with a render pipeline on a GPU.
- [Customizing render pass setup](customizing-render-pass-setup.md)
  Render into an offscreen texture by creating a custom render pass.
- [Setting load and store actions](setting-load-and-store-actions.md)
  Set actions that define how a render pass loads and stores a render target.
- [Improving rendering performance with vertex amplification](improving-rendering-performance-with-vertex-amplification.md)
  Run draw commands that render to different outputs using the same vertex data multiple times.

## See Also

- [Compute passes](compute-passes.md)
  Encode a compute pass that runs computations in parallel on a thread grid, processing and manipulating Metal resource data on multiple cores of a GPU.
- [Machine-learning passes](machine-learning-passes.md)
  Add machine-learning model inference to your Metal app’s GPU workflow.
- [Blit passes](blit-passes.md)
  Encode a block information transfer pass to adjust and copy data to and from GPU resources, such as buffers and textures.
- [Indirect command encoding](indirect-command-encoding.md)
  Store draw commands in Metal buffers and run them at a later time on the GPU, either once or repeatedly.
- [Ray tracing with acceleration structures](ray-tracing-with-acceleration-structures.md)
  Build a representation of your scene’s geometry using triangles and bounding volumes to quickly trace rays through the scene.


---

*[View on Apple Developer](https://developer.apple.com/documentation/metal/render-passes)*