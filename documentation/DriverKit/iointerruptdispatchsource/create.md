# Create

**Framework**: DriverKit  
**Kind**: method

Create a dispatch source that reports hardware-related interrupts generated by the specified service provider.

**Availability**:
- DriverKit ?+
- iOS ?+
- iPadOS ?+
- macOS ?+

## Declaration

```swift
static kern_return_t Create(IOService * provider, uint32_t index, IODispatchQueue * queue, IOInterruptDispatchSource * * source);
```

#### Return Value

[`kIOReturnSuccess`](kioreturnsuccess.md) on success, or another value if an error occurs. See [`Error Codes`](error-codes.md).

#### Discussion

Creates a new interrupt source for the specified provider object. After creating the dispatch source, call the [`SetHandler`](iointerruptdispatchsource/sethandler.md) method to specify the action to perform when interrupts occur.

## Parameters

- `provider`: The   object representing the hardware device that generated the interrupt.
- `index`: The index for the interrupt.
- `queue`: The dispatch queue on which to run any handler blocks.
- `source`: A variable for storing the dispatch source. On return, this variable contains the retained object. You are responsible for releasing this object.

## See Also

- [init](iointerruptdispatchsource/init.md)
  Handles the basic initialization of the dispatch source.
- [free](iointerruptdispatchsource/free.md)
  Performs any final cleanup for the dispatch source.
- [SetHandler](iointerruptdispatchsource/sethandler.md)
  Set the handler block to run when the interrupt fires.


---

*[View on Apple Developer](https://developer.apple.com/documentation/driverkit/iointerruptdispatchsource/create)*